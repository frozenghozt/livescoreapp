{"ast":null,"code":"import axios from\"axios\";import{API,accessDenied,apiError,apiStart,apiEnd}from\"../Actions/apiFootball.actions\";var apiMiddleware=function apiMiddleware(_ref){var dispatch=_ref.dispatch;return function(next){return function(action){next(action);if(action.type!==API)return;var _action$payload=action.payload,url=_action$payload.url,onSuccess=_action$payload.onSuccess,onFailure=_action$payload.onFailure,label=_action$payload.label,headers=_action$payload.headers;// axios default configs\naxios.defaults.headers.common[\"Content-Type\"]=\"application/json\";if(label){dispatch(apiStart(label));}axios.request({url:url,method:\"GET\",headers:headers}).then(function(_ref2){var data=_ref2.data;dispatch(onSuccess(data));}).catch(function(error){dispatch(apiError(error));dispatch(onFailure(error));if(error.response&&error.response.status===403){dispatch(accessDenied(window.location.pathname));}}).finally(function(){if(label){dispatch(apiEnd(label));}});};};};export default apiMiddleware;","map":{"version":3,"sources":["C:/Users/diogo/Desktop/livescore/client/src/Redux/middleware/apiFootballMiddleware.js"],"names":["axios","API","accessDenied","apiError","apiStart","apiEnd","apiMiddleware","dispatch","next","action","type","payload","url","onSuccess","onFailure","label","headers","defaults","common","request","method","then","data","catch","error","response","status","window","location","pathname","finally"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,GADF,CAEEC,YAFF,CAGEC,QAHF,CAIEC,QAJF,CAKEC,MALF,KAMO,gCANP,CAQA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,UAAGC,CAAAA,QAAH,MAAGA,QAAH,OAAkB,UAACC,IAAD,QAAU,UAACC,MAAD,CAAY,CAC5DD,IAAI,CAACC,MAAD,CAAJ,CAEA,GAAIA,MAAM,CAACC,IAAP,GAAgBT,GAApB,CAAyB,OAHmC,oBAKNQ,MAAM,CAACE,OALD,CAKpDC,GALoD,iBAKpDA,GALoD,CAK/CC,SAL+C,iBAK/CA,SAL+C,CAKpCC,SALoC,iBAKpCA,SALoC,CAKzBC,KALyB,iBAKzBA,KALyB,CAKlBC,OALkB,iBAKlBA,OALkB,CAO5D;AACAhB,KAAK,CAACiB,QAAN,CAAeD,OAAf,CAAuBE,MAAvB,CAA8B,cAA9B,EAAgD,kBAAhD,CAEA,GAAIH,KAAJ,CAAW,CACTR,QAAQ,CAACH,QAAQ,CAACW,KAAD,CAAT,CAAR,CACD,CAEDf,KAAK,CACFmB,OADH,CACW,CACPP,GAAG,CAAHA,GADO,CAEPQ,MAAM,CAAE,KAFD,CAGPJ,OAAO,CAAPA,OAHO,CADX,EAMGK,IANH,CAMQ,eAAc,IAAXC,CAAAA,IAAW,OAAXA,IAAW,CAClBf,QAAQ,CAACM,SAAS,CAACS,IAAD,CAAV,CAAR,CACD,CARH,EASGC,KATH,CASS,SAACC,KAAD,CAAW,CAChBjB,QAAQ,CAACJ,QAAQ,CAACqB,KAAD,CAAT,CAAR,CACAjB,QAAQ,CAACO,SAAS,CAACU,KAAD,CAAV,CAAR,CAEA,GAAIA,KAAK,CAACC,QAAN,EAAkBD,KAAK,CAACC,QAAN,CAAeC,MAAf,GAA0B,GAAhD,CAAqD,CACnDnB,QAAQ,CAACL,YAAY,CAACyB,MAAM,CAACC,QAAP,CAAgBC,QAAjB,CAAb,CAAR,CACD,CACF,CAhBH,EAiBGC,OAjBH,CAiBW,UAAM,CACb,GAAIf,KAAJ,CAAW,CACTR,QAAQ,CAACF,MAAM,CAACU,KAAD,CAAP,CAAR,CACD,CACF,CArBH,EAsBD,CApCuC,EAAlB,EAAtB,CAsCA,cAAeT,CAAAA,aAAf","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  API,\r\n  accessDenied,\r\n  apiError,\r\n  apiStart,\r\n  apiEnd,\r\n} from \"../Actions/apiFootball.actions\";\r\n\r\nconst apiMiddleware = ({ dispatch }) => (next) => (action) => {\r\n  next(action);\r\n\r\n  if (action.type !== API) return;\r\n\r\n  const { url, onSuccess, onFailure, label, headers } = action.payload;\r\n\r\n  // axios default configs\r\n  axios.defaults.headers.common[\"Content-Type\"] = \"application/json\";\r\n\r\n  if (label) {\r\n    dispatch(apiStart(label));\r\n  }\r\n\r\n  axios\r\n    .request({\r\n      url,\r\n      method: \"GET\",\r\n      headers,\r\n    })\r\n    .then(({ data }) => {\r\n      dispatch(onSuccess(data));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(apiError(error));\r\n      dispatch(onFailure(error));\r\n\r\n      if (error.response && error.response.status === 403) {\r\n        dispatch(accessDenied(window.location.pathname));\r\n      }\r\n    })\r\n    .finally(() => {\r\n      if (label) {\r\n        dispatch(apiEnd(label));\r\n      }\r\n    });\r\n};\r\n\r\nexport default apiMiddleware;\r\n"]},"metadata":{},"sourceType":"module"}